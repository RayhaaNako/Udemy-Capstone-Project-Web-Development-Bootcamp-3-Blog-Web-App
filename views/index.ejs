<%- include("partials/header.ejs") %>

  <div class="container wrapper-main m-5">
    <div class="d-flex flex-column title-form">
      <div class="web-title">
        <h1>Welcome to the <br /><b>Simple Blog Web App</b></h1>
        <% if (posts.length !==0) { %>
          <i>
            <p>
              Click on the <b>Post Title</b> to <b>view</b>, <b>edit</b> or even
              <b>delete</b> the post!
            </p>
          </i>
          <% } %>
      </div>
      <div class="form-div">
        <form action="/create" method="post" id="post-form">
          <textarea type="text" name="title" placeholder="Type your title here..." id="post-title-form"
            required></textarea>
          <textarea name="content" placeholder="Type your content here..." id="post-content-form" required></textarea>
          <div class="btn-container">
            <button type="submit" id="post-submit-btn">Create Post</button>
          </div>
        </form>
      </div>
    </div>
    <div class="post-div">
      <% if (posts.length===0 ) { %>
        <div class="card posts h-100 d-flex flex-column justify-content-center align-items-center my-3"
          style="background-color: #2b2b2b; color: #ffffff; border: none">
          <h3>No Post Yet ðŸ¥²</h3>
        </div>
        <% } else { %>
          <div class="row d-flex justify-content-start align-items-center">
            <% posts.forEach((post, index)=> { %>
              <div class="col-md-6 my-3">
                <div class="card posts position-relative">
                  <div class="card-body d-flex flex-column justify-content-start align-items-start pt-5">
                    <p style="position: absolute; top: 25px; font-size: 12px;">
                      <%= post.date %>
                    </p>
                    <h3 class="card-title post-title">
                      <a href="/view/<%= posts.indexOf(post) %>">
                        <%= post.title %>
                      </a>
                    </h3>
                    <p class="card-text post-content">
                      <%= post.content %>
                    </p>
                  </div>
                </div>
              </div>
              <% }); %>
          </div>
          <% } %>
    </div>
  </div>

  <%- include("partials/footer.ejs") %>